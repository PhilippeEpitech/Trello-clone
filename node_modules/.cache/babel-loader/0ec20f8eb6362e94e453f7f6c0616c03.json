{"remainingRequest":"/Users/philippe/code/Trello-clone/node_modules/babel-loader/lib/index.js!/Users/philippe/code/Trello-clone/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/philippe/code/Trello-clone/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/philippe/code/Trello-clone/src/components/Posts.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/philippe/code/Trello-clone/src/components/Posts.vue","mtime":1659355724378},{"path":"/Users/philippe/code/Trello-clone/babel.config.js","mtime":1659355724358},{"path":"/Users/philippe/code/Trello-clone/node_modules/cache-loader/dist/cjs.js","mtime":1659359318593},{"path":"/Users/philippe/code/Trello-clone/node_modules/babel-loader/lib/index.js","mtime":1659359319431},{"path":"/Users/philippe/code/Trello-clone/node_modules/cache-loader/dist/cjs.js","mtime":1659359318593},{"path":"/Users/philippe/code/Trello-clone/node_modules/vue-loader/lib/index.js","mtime":1659359320303}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGFwaSBmcm9tICJAL2FwaXMvYXBpLmpzIjsKaW1wb3J0IFNob3dQb3N0IGZyb20gIkAvY29tcG9uZW50cy9TaG93UG9zdC52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IFsiY2F0Il0sCiAgY29tcG9uZW50czogewogICAgU2hvd1Bvc3QKICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcG9zdHM6IFtdLAogICAgICBzaG93cG9zdDogZmFsc2UsCiAgICAgIGlkcG9zdDogIiIsCiAgICAgIGZvcm1QbzogewogICAgICAgIHRpdGxlOiAiIiwKICAgICAgICBzdGF0dXM6ICJwdWJsaXNoIiwKICAgICAgICBjYXRlZ29yaWVzOiB0aGlzLmNhdAogICAgICB9CiAgICB9OwogIH0sCgogIG1vdW50ZWQoKSB7CiAgICBhcGkuZ2V0cG9zdHModGhpcy5jYXQpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICB0aGlzLnBvc3RzID0gcmVzcG9uc2UuZGF0YTsKICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgY29uc29sZS5sb2coIkVycm9yIDoiLCBlcnJvci5yZXNwb25zZSk7CiAgICB9KTsKICB9LAoKICBtZXRob2RzOiB7CiAgICBjcmVhdGVQbygpIHsKICAgICAgYXBpLmNyZWF0ZVBvKHRoaXMuZm9ybVBvKS50aGVuKCgpID0+IHsKICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBjb25zb2xlLmxvZygiRXJyb3IgOiIsIGVycm9yLnJlc3BvbnNlKTsKICAgICAgfSk7CiAgICB9LAoKICAgIG9wZW5Qb3N0KGlkKSB7CiAgICAgIHRoaXMuaWRwb3N0ID0gaWQ7CiAgICAgIHRoaXMuc2hvd3Bvc3QgPSB0cnVlOwogICAgfSwKCiAgICBjbG9zZVBvc3QoKSB7CiAgICAgIHRoaXMucG9zID0gIiI7CiAgICAgIHRoaXMuc2hvd3Bvc3QgPSBmYWxzZTsKICAgIH0KCiAgfQp9Ow=="},{"version":3,"mappings":"AAgBA;AACA;AAEA;EACAA,cADA;EAEAC;IACAC;EADA,CAFA;;EAKAC;IACA;MACAC,SADA;MAEAC,eAFA;MAGAC,UAHA;MAIAC;QACAC,SADA;QAEAC,iBAFA;QAGAC;MAHA;IAJA;EAUA,CAhBA;;EAkBAC;IACAC,IACAC,QADA,CACA,QADA,EAEAC,IAFA,CAEAC;MACA;IACA,CAJA,EAKAC,KALA,CAKAC;MACAC;IACA,CAPA;EAQA,CA3BA;;EA4BAC;IACAC;MACAR,IACAQ,QADA,CACA,WADA,EAEAN,IAFA,CAEA;QACAO;MACA,CAJA,EAKAL,KALA,CAKAC;QACAC;MACA,CAPA;IAQA,CAVA;;IAWAI;MACA;MACA;IACA,CAdA;;IAeAC;MACA;MACA;IACA;;EAlBA;AA5BA","names":["props","components","ShowPost","data","posts","showpost","idpost","formPo","title","status","categories","mounted","api","getposts","then","response","catch","error","console","methods","createPo","window","openPost","closePost"],"sourceRoot":"src/components","sources":["Posts.vue"],"sourcesContent":["<template>\n  <div id=\"notes\">\n    <article v-for=\"post in posts\" v-bind:key=\"post.id\">\n      <div id=\"post\" @click=\"openPost(post.id)\">\n        <p id=\"text\">{{ post.title.rendered.substring(0, 60) }}</p>\n      </div>\n    </article>\n\n    <ShowPost v-if=\"showpost\" @closePost=\"closePost\" :pos=\"idpost\" />\n\n    <input type=\"text\" v-model=\"formPo.title\" placeholder=\"Créer un Post\" />\n    <button class=\"btn btn-primary\" v-on:click=\"createPo()\">➕</button>\n  </div>\n</template>\n\n<script>\nimport api from \"@/apis/api.js\";\nimport ShowPost from \"@/components/ShowPost.vue\";\n\nexport default {\n  props: [\"cat\"],\n  components: {\n    ShowPost,\n  },\n  data() {\n    return {\n      posts: [],\n      showpost: false,\n      idpost: \"\",\n      formPo: {\n        title: \"\",\n        status: \"publish\",\n        categories: this.cat,\n      },\n    };\n  },\n\n  mounted() {\n    api\n      .getposts(this.cat)\n      .then((response) => {\n        this.posts = response.data;\n      })\n      .catch((error) => {\n        console.log(\"Error :\", error.response);\n      });\n  },\n  methods: {\n    createPo() {\n      api\n        .createPo(this.formPo)\n        .then(() => {\n          window.location.reload();\n        })\n        .catch((error) => {\n          console.log(\"Error :\", error.response);\n        });\n    },\n    openPost(id) {\n      this.idpost = id;\n      this.showpost = true;\n    },\n    closePost() {\n      this.pos = \"\";\n      this.showpost = false;\n    },\n  },\n};\n</script>\n\n<style scoped>\n#post {\n  background: white;\n  border-radius: 5px;\n  margin: 0.5em 0;\n}\n#post :hover {\n  cursor: pointer;\n}\n</style>"]}]}