{"remainingRequest":"/Users/philippe/code/Trello-clone/node_modules/babel-loader/lib/index.js!/Users/philippe/code/Trello-clone/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/philippe/code/Trello-clone/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/philippe/code/Trello-clone/src/components/ShowPost.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/philippe/code/Trello-clone/src/components/ShowPost.vue","mtime":1659355724378},{"path":"/Users/philippe/code/Trello-clone/babel.config.js","mtime":1659355724358},{"path":"/Users/philippe/code/Trello-clone/node_modules/cache-loader/dist/cjs.js","mtime":1659359318593},{"path":"/Users/philippe/code/Trello-clone/node_modules/babel-loader/lib/index.js","mtime":1659359319431},{"path":"/Users/philippe/code/Trello-clone/node_modules/cache-loader/dist/cjs.js","mtime":1659359318593},{"path":"/Users/philippe/code/Trello-clone/node_modules/vue-loader/lib/index.js","mtime":1659359320303}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGFwaSBmcm9tICJAL2FwaXMvYXBpLmpzIjsKaW1wb3J0IEVkaXRpb25Qb3N0cyBmcm9tICJAL2NvbXBvbmVudHMvRWRpdGlvblBvc3RzLnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBFZGl0aW9uUG9zdHMKICB9LAogIHByb3BzOiBbInBvcyJdLAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGVzY3JpcHRpb246ICIiLAogICAgICB0aXRsZTogIiIsCiAgICAgIGlkZWRpdDogIiIsCiAgICAgIHNob3dlZGl0OiBmYWxzZSwKICAgICAgc2hvd2VkaXRDOiBmYWxzZSwKICAgICAgaWRjOiAiIiwKICAgICAgY29tczogW10sCiAgICAgIGZvcm1jOiB7CiAgICAgICAgY29udGVudDogIiIKICAgICAgfSwKICAgICAgZm9ybWVkaXQ6IHsKICAgICAgICBjb250ZW50OiAiIgogICAgICB9CiAgICB9OwogIH0sCgogIG1vdW50ZWQoKSB7CiAgICBhcGkuZ2V0cG9zdCh0aGlzLnBvcykudGhlbihyZXNwb25zZSA9PiB7CiAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSByZXNwb25zZS5kYXRhLmNvbnRlbnQucmVuZGVyZWQ7CiAgICAgIHRoaXMudGl0bGUgPSByZXNwb25zZS5kYXRhLnRpdGxlLnJlbmRlcmVkOwogICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICBjb25zb2xlLmxvZygiRXJyb3IgOiIsIGVycm9yLnJlc3BvbnNlKTsKICAgIH0pLCBhcGkuZ2V0Y29tcyh0aGlzLnBvcykudGhlbihyZXNwb25zZSA9PiB7CiAgICAgIHRoaXMuY29tcyA9IHJlc3BvbnNlLmRhdGE7CiAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgIGNvbnNvbGUubG9nKCJFcnJvciA6IiwgZXJyb3IucmVzcG9uc2UpOwogICAgfSk7CiAgfSwKCiAgbWV0aG9kczogewogICAgZGVsZXRlUG8oaWQpIHsKICAgICAgYXBpLmRlbGV0ZVBvKGlkKS50aGVuKCgpID0+IHsKICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBjb25zb2xlLmxvZygiRXJyb3IgOiIsIGVycm9yLnJlc3BvbnNlKTsKICAgICAgfSk7CiAgICB9LAoKICAgIGNsb3NlUG9zdCgpIHsKICAgICAgdGhpcy4kZW1pdCgiY2xvc2VQb3N0Iik7CiAgICB9LAoKICAgIG9wZW5FZGl0KGlkKSB7CiAgICAgIGlmICh0aGlzLnNob3dlZGl0ID09PSB0cnVlKSB7CiAgICAgICAgdGhpcy5zaG93ZWRpdCA9IGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2hvd2VkaXQgPSB0cnVlOwogICAgICAgIHRoaXMuaWRlZGl0ID0gaWQ7CiAgICAgIH0KICAgIH0sCgogICAgY29tbWVudCgpIHsKICAgICAgYXBpLmNvbW1lbnQodGhpcy5wb3MsIHRoaXMuZm9ybWMpLnRoZW4oKCkgPT4gewogICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCJFcnJvciA6IiwgZXJyb3IucmVzcG9uc2UpOwogICAgICB9KTsKICAgIH0sCgogICAgZGVsZXRlQ28oaWQpIHsKICAgICAgYXBpLmRlbGV0ZUNvKGlkKS50aGVuKCgpID0+IHsKICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBjb25zb2xlLmxvZygiRXJyb3IgOiIsIGVycm9yLnJlc3BvbnNlKTsKICAgICAgfSk7CiAgICB9LAoKICAgIGVkaXRDKGlkKSB7CiAgICAgIHRoaXMuc2hvd2VkaXRDID0gdHJ1ZTsKICAgICAgdGhpcy5pZGMgPSBpZDsKICAgIH0sCgogICAgc3VibWl0ZWRpdEMoaWQpIHsKICAgICAgYXBpLmVkaXRDbyhpZCwgdGhpcy5mb3JtZWRpdCkudGhlbigoKSA9PiB7CiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgY29uc29sZS5sb2coIkVycm9yIDoiLCBlcnJvci5yZXNwb25zZSk7CiAgICAgIH0pOwogICAgICB0aGlzLnNob3dlZGl0QyA9IGZhbHNlOwogICAgICB0aGlzLmlkYyA9ICIiOwogICAgICB0aGlzLmZvcm1lZGl0ID0gewogICAgICAgIGNvbnRlbnQ6ICIiCiAgICAgIH07CiAgICB9CgogIH0KfTs="},{"version":3,"mappings":"AA+DA;AACA;AAEA;EACAA;IACAC;EADA,CADA;EAIAC,cAJA;;EAKAC;IACA;MACAC,eADA;MAEAC,SAFA;MAGAC,UAHA;MAIAC,eAJA;MAKAC,gBALA;MAMAC,OANA;MAOAC,QAPA;MAQAC;QACAC;MADA,CARA;MAWAC;QACAD;MADA;IAXA;EAeA,CArBA;;EAsBAE;IACAC,IACAC,OADA,CACA,QADA,EAEAC,IAFA,CAEAC;MACA;MACA;IACA,CALA,EAMAC,KANA,CAMAC;MACAC;IACA,CARA,GASAN,IACAO,OADA,CACA,QADA,EAEAL,IAFA,CAEAC;MACA;IACA,CAJA,EAKAC,KALA,CAKAC;MACAC;IACA,CAPA,CATA;EAiBA,CAxCA;;EAyCAE;IACAC;MACAT,IACAS,QADA,CACAC,EADA,EAEAR,IAFA,CAEA;QACAS;MACA,CAJA,EAKAP,KALA,CAKAC;QACAC;MACA,CAPA;IAQA,CAVA;;IAWAM;MACA;IACA,CAbA;;IAcAC;MACA;QACA;MACA,CAFA,MAEA;QACA;QACA;MACA;IACA,CArBA;;IAsBAC;MACAd,IACAc,OADA,CACA,QADA,EACA,UADA,EAEAZ,IAFA,CAEA;QACAS;MACA,CAJA,EAKAP,KALA,CAKAC;QACAC;MACA,CAPA;IAQA,CA/BA;;IAgCAS;MACAf,IACAe,QADA,CACAL,EADA,EAEAR,IAFA,CAEA;QACAS;MACA,CAJA,EAKAP,KALA,CAKAC;QACAC;MACA,CAPA;IAQA,CAzCA;;IA0CAU;MACA;MACA;IACA,CA7CA;;IA8CAC;MACAjB,IACAkB,MADA,CACAR,EADA,EACA,aADA,EAEAR,IAFA,CAEA;QACAS;MACA,CAJA,EAKAP,KALA,CAKAC;QACAC;MACA,CAPA;MAQA;MACA;MACA;QAAAT;MAAA;IACA;;EA1DA;AAzCA","names":["components","EditionPosts","props","data","description","title","idedit","showedit","showeditC","idc","coms","formc","content","formedit","mounted","api","getpost","then","response","catch","error","console","getcoms","methods","deletePo","id","window","closePost","openEdit","comment","deleteCo","editC","submiteditC","editCo"],"sourceRoot":"src/components","sources":["ShowPost.vue"],"sourcesContent":["<template>\n  <div>\n    <div id=\"back\">\n      <div class=\"post\">\n        <!-- Boutton -->\n        <span>\n          <button id=\"btn\" class=\"btn btn-secondary\" @click=\"closePost\">\n            <b>Retour</b>\n          </button>\n          <button id=\"btn\" @click=\"deletePo(pos)\" class=\"btn btn-light\">\n            üóëÔ∏è\n          </button>\n          <button id=\"btn\" @click=\"openEdit(pos)\" class=\"btn btn-light\">\n            <span v-if=\"showedit\">Fermer</span><span v-else>‚úèÔ∏è</span>\n          </button></span\n        >\n        <div>\n          <p>\n            <strong>{{ title }}</strong>\n          </p>\n          <!-- <p>{{ description }}</p> -->\n        </div>\n\n        <EditionPosts v-if=\"showedit\" :idedit=\"idedit\" :title=\"title\" />\n\n        <div id=\"com-space\"></div>\n        <p>Les Commentaires:</p>\n        <div>\n          <span\n            ><input\n              type=\"text\"\n              v-model=\"formc.content\"\n              placeholder=\"Cr√©er nouveau commentaire\"\n              class=\"addInput\"\n            />\n            <button @click=\"comment()\" class=\"btn btn-primary btn-sm\">\n              Ajouter Nouveau Commentaire\n            </button></span\n          >\n          <span v-if=\"showeditC\"\n            ><input\n              type=\"text\"\n              v-model=\"formedit.content\"\n              placeholder=\"Editer le commentaire\"\n              class=\"editInput\"\n            /><button @click=\"submiteditC(idc)\" class=\"btn btn-primary btn-sm\">\n              Editer le commentaire\n            </button></span\n          >\n          <div id=\"com\" v-for=\"com in coms\" v-bind:key=\"com.id\">\n            <a @click=\"deleteCo(com.id)\">Effacer</a> |\n            <a @click=\"editC(com.id)\">Edition</a>\n            <p>De : {{ com.author_name }}</p>\n\n            <p v-html=\"com.content.rendered\"></p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport api from \"@/apis/api.js\";\nimport EditionPosts from \"@/components/EditionPosts.vue\";\n\nexport default {\n  components: {\n    EditionPosts,\n  },\n  props: [\"pos\"],\n  data() {\n    return {\n      description: \"\",\n      title: \"\",\n      idedit: \"\",\n      showedit: false,\n      showeditC: false,\n      idc: \"\",\n      coms: [],\n      formc: {\n        content: \"\",\n      },\n      formedit: {\n        content: \"\",\n      },\n    };\n  },\n  mounted() {\n    api\n      .getpost(this.pos)\n      .then((response) => {\n        this.description = response.data.content.rendered;\n        this.title = response.data.title.rendered;\n      })\n      .catch((error) => {\n        console.log(\"Error :\", error.response);\n      }),\n      api\n        .getcoms(this.pos)\n        .then((response) => {\n          this.coms = response.data;\n        })\n        .catch((error) => {\n          console.log(\"Error :\", error.response);\n        });\n  },\n  methods: {\n    deletePo(id) {\n      api\n        .deletePo(id)\n        .then(() => {\n          window.location.reload();\n        })\n        .catch((error) => {\n          console.log(\"Error :\", error.response);\n        });\n    },\n    closePost() {\n      this.$emit(\"closePost\");\n    },\n    openEdit(id) {\n      if (this.showedit === true) {\n        this.showedit = false;\n      } else {\n        this.showedit = true;\n        this.idedit = id;\n      }\n    },\n    comment() {\n      api\n        .comment(this.pos, this.formc)\n        .then(() => {\n          window.location.reload();\n        })\n        .catch((error) => {\n          console.log(\"Error :\", error.response);\n        });\n    },\n    deleteCo(id) {\n      api\n        .deleteCo(id)\n        .then(() => {\n          window.location.reload();\n        })\n        .catch((error) => {\n          console.log(\"Error :\", error.response);\n        });\n    },\n    editC(id) {\n      this.showeditC = true;\n      this.idc = id;\n    },\n    submiteditC(id) {\n      api\n        .editCo(id, this.formedit)\n        .then(() => {\n          window.location.reload();\n        })\n        .catch((error) => {\n          console.log(\"Error :\", error.response);\n        });\n      this.showeditC = false;\n      this.idc = \"\";\n      this.formedit = { content: \"\" };\n    },\n  },\n};\n</script>\n\n<style scoped>\n.addInput {\n  margin-bottom: 10px;\n  border-radius: 5px;\n}\n\n#back {\n  display: flex;\n  justify-content: center;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: calc(100% - 0px);\n  min-height: calc(100vh - 0px);\n  background: rgba(0, 0, 0, 0.8);\n}\n.post {\n  background: rgb(225, 225, 225);\n  width: 80%;\n  max-height: 600px;\n  padding: 10px;\n  margin: 10px 0;\n  overflow-y: scroll;\n}\n#btn {\n  margin: -5px 5px;\n  margin-left: auto;\n}\n#com-space {\n  height: 5px;\n  width: 100%;\n  margin: auto;\n  background-color: rgb(87, 87, 87);\n  border-radius: 5px;\n}\n#com {\n  background: grey;\n  margin: 0.5em;\n  border-radius: 5px;\n  color: rgb(224, 224, 224);\n  padding: 5px;\n}\n#com a {\n  color: ivory;\n  cursor: pointer;\n  text-decoration: underline;\n}\n\n.addInput {\n  margin-bottom: 10px;\n  border-radius: 5px;\n}\n</style>"]}]}