{"remainingRequest":"/Users/philippe/code/Trello-clone/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/philippe/code/Trello-clone/src/components/ShowPost.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/philippe/code/Trello-clone/src/components/ShowPost.vue","mtime":1659355724378},{"path":"/Users/philippe/code/Trello-clone/node_modules/cache-loader/dist/cjs.js","mtime":1659359318593},{"path":"/Users/philippe/code/Trello-clone/node_modules/babel-loader/lib/index.js","mtime":1659359319431},{"path":"/Users/philippe/code/Trello-clone/node_modules/cache-loader/dist/cjs.js","mtime":1659359318593},{"path":"/Users/philippe/code/Trello-clone/node_modules/vue-loader/lib/index.js","mtime":1659359320303}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBhcGkgZnJvbSAiQC9hcGlzL2FwaS5qcyI7CmltcG9ydCBFZGl0aW9uUG9zdHMgZnJvbSAiQC9jb21wb25lbnRzL0VkaXRpb25Qb3N0cy52dWUiOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIEVkaXRpb25Qb3N0cywKICB9LAogIHByb3BzOiBbInBvcyJdLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkZXNjcmlwdGlvbjogIiIsCiAgICAgIHRpdGxlOiAiIiwKICAgICAgaWRlZGl0OiAiIiwKICAgICAgc2hvd2VkaXQ6IGZhbHNlLAogICAgICBzaG93ZWRpdEM6IGZhbHNlLAogICAgICBpZGM6ICIiLAogICAgICBjb21zOiBbXSwKICAgICAgZm9ybWM6IHsKICAgICAgICBjb250ZW50OiAiIiwKICAgICAgfSwKICAgICAgZm9ybWVkaXQ6IHsKICAgICAgICBjb250ZW50OiAiIiwKICAgICAgfSwKICAgIH07CiAgfSwKICBtb3VudGVkKCkgewogICAgYXBpCiAgICAgIC5nZXRwb3N0KHRoaXMucG9zKQogICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gcmVzcG9uc2UuZGF0YS5jb250ZW50LnJlbmRlcmVkOwogICAgICAgIHRoaXMudGl0bGUgPSByZXNwb25zZS5kYXRhLnRpdGxlLnJlbmRlcmVkOwogICAgICB9KQogICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgY29uc29sZS5sb2coIkVycm9yIDoiLCBlcnJvci5yZXNwb25zZSk7CiAgICAgIH0pLAogICAgICBhcGkKICAgICAgICAuZ2V0Y29tcyh0aGlzLnBvcykKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIHRoaXMuY29tcyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZygiRXJyb3IgOiIsIGVycm9yLnJlc3BvbnNlKTsKICAgICAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGRlbGV0ZVBvKGlkKSB7CiAgICAgIGFwaQogICAgICAgIC5kZWxldGVQbyhpZCkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZygiRXJyb3IgOiIsIGVycm9yLnJlc3BvbnNlKTsKICAgICAgICB9KTsKICAgIH0sCiAgICBjbG9zZVBvc3QoKSB7CiAgICAgIHRoaXMuJGVtaXQoImNsb3NlUG9zdCIpOwogICAgfSwKICAgIG9wZW5FZGl0KGlkKSB7CiAgICAgIGlmICh0aGlzLnNob3dlZGl0ID09PSB0cnVlKSB7CiAgICAgICAgdGhpcy5zaG93ZWRpdCA9IGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2hvd2VkaXQgPSB0cnVlOwogICAgICAgIHRoaXMuaWRlZGl0ID0gaWQ7CiAgICAgIH0KICAgIH0sCiAgICBjb21tZW50KCkgewogICAgICBhcGkKICAgICAgICAuY29tbWVudCh0aGlzLnBvcywgdGhpcy5mb3JtYykKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZygiRXJyb3IgOiIsIGVycm9yLnJlc3BvbnNlKTsKICAgICAgICB9KTsKICAgIH0sCiAgICBkZWxldGVDbyhpZCkgewogICAgICBhcGkKICAgICAgICAuZGVsZXRlQ28oaWQpCiAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgY29uc29sZS5sb2coIkVycm9yIDoiLCBlcnJvci5yZXNwb25zZSk7CiAgICAgICAgfSk7CiAgICB9LAogICAgZWRpdEMoaWQpIHsKICAgICAgdGhpcy5zaG93ZWRpdEMgPSB0cnVlOwogICAgICB0aGlzLmlkYyA9IGlkOwogICAgfSwKICAgIHN1Ym1pdGVkaXRDKGlkKSB7CiAgICAgIGFwaQogICAgICAgIC5lZGl0Q28oaWQsIHRoaXMuZm9ybWVkaXQpCiAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgY29uc29sZS5sb2coIkVycm9yIDoiLCBlcnJvci5yZXNwb25zZSk7CiAgICAgICAgfSk7CiAgICAgIHRoaXMuc2hvd2VkaXRDID0gZmFsc2U7CiAgICAgIHRoaXMuaWRjID0gIiI7CiAgICAgIHRoaXMuZm9ybWVkaXQgPSB7IGNvbnRlbnQ6ICIiIH07CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["ShowPost.vue"],"names":[],"mappings":";AA+DA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ShowPost.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <div id=\"back\">\n      <div class=\"post\">\n        <!-- Boutton -->\n        <span>\n          <button id=\"btn\" class=\"btn btn-secondary\" @click=\"closePost\">\n            <b>Retour</b>\n          </button>\n          <button id=\"btn\" @click=\"deletePo(pos)\" class=\"btn btn-light\">\n            üóëÔ∏è\n          </button>\n          <button id=\"btn\" @click=\"openEdit(pos)\" class=\"btn btn-light\">\n            <span v-if=\"showedit\">Fermer</span><span v-else>‚úèÔ∏è</span>\n          </button></span\n        >\n        <div>\n          <p>\n            <strong>{{ title }}</strong>\n          </p>\n          <!-- <p>{{ description }}</p> -->\n        </div>\n\n        <EditionPosts v-if=\"showedit\" :idedit=\"idedit\" :title=\"title\" />\n\n        <div id=\"com-space\"></div>\n        <p>Les Commentaires:</p>\n        <div>\n          <span\n            ><input\n              type=\"text\"\n              v-model=\"formc.content\"\n              placeholder=\"Cr√©er nouveau commentaire\"\n              class=\"addInput\"\n            />\n            <button @click=\"comment()\" class=\"btn btn-primary btn-sm\">\n              Ajouter Nouveau Commentaire\n            </button></span\n          >\n          <span v-if=\"showeditC\"\n            ><input\n              type=\"text\"\n              v-model=\"formedit.content\"\n              placeholder=\"Editer le commentaire\"\n              class=\"editInput\"\n            /><button @click=\"submiteditC(idc)\" class=\"btn btn-primary btn-sm\">\n              Editer le commentaire\n            </button></span\n          >\n          <div id=\"com\" v-for=\"com in coms\" v-bind:key=\"com.id\">\n            <a @click=\"deleteCo(com.id)\">Effacer</a> |\n            <a @click=\"editC(com.id)\">Edition</a>\n            <p>De : {{ com.author_name }}</p>\n\n            <p v-html=\"com.content.rendered\"></p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport api from \"@/apis/api.js\";\nimport EditionPosts from \"@/components/EditionPosts.vue\";\n\nexport default {\n  components: {\n    EditionPosts,\n  },\n  props: [\"pos\"],\n  data() {\n    return {\n      description: \"\",\n      title: \"\",\n      idedit: \"\",\n      showedit: false,\n      showeditC: false,\n      idc: \"\",\n      coms: [],\n      formc: {\n        content: \"\",\n      },\n      formedit: {\n        content: \"\",\n      },\n    };\n  },\n  mounted() {\n    api\n      .getpost(this.pos)\n      .then((response) => {\n        this.description = response.data.content.rendered;\n        this.title = response.data.title.rendered;\n      })\n      .catch((error) => {\n        console.log(\"Error :\", error.response);\n      }),\n      api\n        .getcoms(this.pos)\n        .then((response) => {\n          this.coms = response.data;\n        })\n        .catch((error) => {\n          console.log(\"Error :\", error.response);\n        });\n  },\n  methods: {\n    deletePo(id) {\n      api\n        .deletePo(id)\n        .then(() => {\n          window.location.reload();\n        })\n        .catch((error) => {\n          console.log(\"Error :\", error.response);\n        });\n    },\n    closePost() {\n      this.$emit(\"closePost\");\n    },\n    openEdit(id) {\n      if (this.showedit === true) {\n        this.showedit = false;\n      } else {\n        this.showedit = true;\n        this.idedit = id;\n      }\n    },\n    comment() {\n      api\n        .comment(this.pos, this.formc)\n        .then(() => {\n          window.location.reload();\n        })\n        .catch((error) => {\n          console.log(\"Error :\", error.response);\n        });\n    },\n    deleteCo(id) {\n      api\n        .deleteCo(id)\n        .then(() => {\n          window.location.reload();\n        })\n        .catch((error) => {\n          console.log(\"Error :\", error.response);\n        });\n    },\n    editC(id) {\n      this.showeditC = true;\n      this.idc = id;\n    },\n    submiteditC(id) {\n      api\n        .editCo(id, this.formedit)\n        .then(() => {\n          window.location.reload();\n        })\n        .catch((error) => {\n          console.log(\"Error :\", error.response);\n        });\n      this.showeditC = false;\n      this.idc = \"\";\n      this.formedit = { content: \"\" };\n    },\n  },\n};\n</script>\n\n<style scoped>\n.addInput {\n  margin-bottom: 10px;\n  border-radius: 5px;\n}\n\n#back {\n  display: flex;\n  justify-content: center;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: calc(100% - 0px);\n  min-height: calc(100vh - 0px);\n  background: rgba(0, 0, 0, 0.8);\n}\n.post {\n  background: rgb(225, 225, 225);\n  width: 80%;\n  max-height: 600px;\n  padding: 10px;\n  margin: 10px 0;\n  overflow-y: scroll;\n}\n#btn {\n  margin: -5px 5px;\n  margin-left: auto;\n}\n#com-space {\n  height: 5px;\n  width: 100%;\n  margin: auto;\n  background-color: rgb(87, 87, 87);\n  border-radius: 5px;\n}\n#com {\n  background: grey;\n  margin: 0.5em;\n  border-radius: 5px;\n  color: rgb(224, 224, 224);\n  padding: 5px;\n}\n#com a {\n  color: ivory;\n  cursor: pointer;\n  text-decoration: underline;\n}\n\n.addInput {\n  margin-bottom: 10px;\n  border-radius: 5px;\n}\n</style>"]}]}